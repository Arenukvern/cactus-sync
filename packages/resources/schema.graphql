"""
@model
@cactusSync
TODO: make directive hasId
@hasId
"""
type Todo {
  # TODO: replace type with ID
  _id: string!
  _version: number!
  # TODO: replace type with Timestamp
  _lastUpdatedAt: number!
  title: string
  """
  @manyToOne(field: 'todos')
  """
  user: User
}

"""
@model
@cactusSync
"""
type User {
  # TODO: replace type with ID
  _id: string
  _version: number
  # TODO: replace type with Timestamp
  _lastUpdatedAt: number
  name: string
  """
  @oneToMany(field: 'user')
  """
  todos: [User]!
}

"""
@model
This model keeps all changes for every model any made
"""
type CactusSyncTimestamp{
  # TODO: replace type with ID
  _id: string
  # TODO: add Timestamp
  # TODO: must be indexed for fastest finds
  timestamp: number
  # FIXME:
  changeType: DatabaseChangeType
  # model __typename
  modelTypename: string
  # TODO: replace with ID
  changedId: string
}

enum DatabaseChangeType {
  Create = 1,
  Update = 2,
  Delete = 3,
}